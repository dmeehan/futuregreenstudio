.mosaic {
    .mosaic-tile {
        position: relative;

        &.is-placeholder {
            background-color: transparent;
        }
    }

    @media(min-width: $bp-horiz-medium) {
        @include display(flex);
        @include flex-wrap(wrap);

        .mosaic-tile {
            width: calc(50% - #{$spacing-small});
            &:nth-child(odd) {
                margin-right: $spacing-small;
            }

            &:nth-child(even) {
                margin-left: $spacing-small;
            }

            

        }
    }

    @media(min-width: $bp-horiz-large) {
        &::after {
            content: 'mosaic-large';
            display: none;
        }

        .mosaic-tile {
            //width: calc(33.33% - #{$spacing-small});
            width: calc(33.33% - 31px);
            height: 300px;

            margin-right: 31px;
            margin-bottom: 31px;

            &:nth-child(odd) {
                margin-right: 31px;
            }

            &:nth-child(even) {
                margin-left: 0;
            }

            &:nth-child(12n+1) {
                width: calc(30% - 31px);
                height: 320px;
            }
            
            &:nth-child(12n+2){
                width: calc(45% - 31px);
                height: 320px;
            }

            &:nth-child(12n+3) {
                width: calc(25%);
                height: 320px;
                margin-right: 0;
            }

            &:nth-child(12n+4) {
                width: calc(25% - 31px);
                height: 360px;
            }

            &:nth-child(12n+5) {
                width: calc(35% - 31px);
                height: 360px;
            }

            &:nth-child(12n+6) {
                width: calc(40%);
                height: 360px;
                margin-right: 0;
            }

            &:nth-child(12n+7) {
                width: calc(35% - 31px);
                height: 300px;
            }

            &:nth-child(12n+8) {
                width: calc(35% - 31px);
                height: 300px;
            }

            &:nth-child(12n+9) {
                width: calc(30%);
                height: 300px;
                margin-right: 0;
            }

            &:nth-child(12n+10) {
                width: calc(20% - 31px);
                height: 340px;
            }

            &:nth-child(12n+11) {
                width: calc(30% - 31px);
                height: 340px;
            }

            &:nth-child(12n) {
                width: calc(50%);
                height: 340px;
                margin-right: 0;
            }
        }

        /*@supports (display: grid) {
            $grid-items: 12;
            $grid-column-first: 1;
            $grid-column-last: 31;
            $grid-row-first: 1;
            $grid-row-last: 42;

            display: grid;
            grid-template-columns: repeat(30, 3.33%);
            grid-template-rows: 31px;
            grid-auto-columns: 2.5%;
            grid-auto-rows: 31px;

            @media(min-width: $bp-horiz-large) {
                grid-template-rows: 31px;
                grid-auto-rows: 31px;
            }

            .mosaic-tile {
                display: block;
                position: relative;
                height: auto;
                width: auto;
                margin: 0 0 0 0;
                //padding-bottom: 0;

                &:nth-child(odd) {
                    margin-right: 0;
                }

                &:nth-child(even) {
                    margin-left: 0;
                }

                .modal {
                    margin: $spacing-small;

                    &.is-expanded {
                        margin: 0;
                    }
                    
                    .modal-glance {
                        //padding: $spacing-small;
                    }
                }

                &:nth-child(12n+1) {
                    width: auto;
                    height: auto;
                    margin-right: 0;
                    grid-column-start: 1;
                    grid-column-end: span 7;
                    grid-row-start: 1;
                    grid-row-end: span 8; 

                    &:last-child, &:nth-last-child(2), &:nth-last-child(3) {
                        grid-row-end: span 8; 
                    }   
                }

                &:nth-child(12n+2) {
                    width: auto;
                    height: auto;
                    margin-right: 0;
                    grid-column-start: 9;
                    grid-column-end: span 10;
                    grid-row-start: 1;
                    grid-row-end: span 8;

                   &:last-child, &:nth-last-child(2) {
                        grid-row-end: span 8; 
                    }   
                }

                &:nth-child(12n+3) {
                    width: auto;
                    height: auto;
                    margin-right: 0;
                    grid-column-start: 20;
                    grid-column-end: span 11;
                    grid-row-start: 1;
                    grid-row-end: span 11;

                   &:last-child {
                        grid-row-end: span 8; 
                    }   
                }

                &:nth-child(12n+4) {
                    width: auto;
                    height: auto;
                    margin-right: 0;
                    grid-column-start: 1;
                    grid-column-end: span 10;
                    grid-row-start: 10;
                    grid-row-end: span 7;

                    &:last-child, &:nth-last-child(2), &:nth-last-child(3) {
                        grid-row-end: span 11; 
                   }  
                }

                &:nth-child(12n+5) {
                    width: auto;
                    height: auto;
                    margin-right: 0;
                    grid-column-start: 12;
                    grid-column-end: span 7;
                    grid-row-start: 10;
                    grid-row-end: span 7;

                    &:last-child, &:nth-last-child(2) {
                        grid-row-end: span 11; 
                    } 
                }

                &:nth-child(12n+6) {
                    width: auto;
                    height: auto;
                    margin-right: 0;
                    grid-column-start: 20;
                    grid-column-end: span 11;
                    grid-row-start: 13;
                    grid-row-end: span 8;
                }

                &:nth-child(12n+7) {
                    width: auto;
                    height: auto;
                    margin-right: 0;
                    grid-column-start: 1;
                    grid-column-end: span 10;
                    grid-row-start: 18;
                    grid-row-end: span 12;
                }

                &:nth-child(12n+8) {
                    width: auto;
                    height: auto;
                    margin-right: 0;
                    grid-column-start: 12;
                    grid-column-end: span 7;
                    grid-row-start: 18;
                    grid-row-end: span 12;
                }

                &:nth-child(12n+9) {
                    width: auto;
                    height: auto;
                    margin-right: 0;
                    grid-column-start: 20;
                    grid-column-end: span 11;
                    grid-row-start: 22;
                    grid-row-end: span 8;
                }

                &:nth-child(12n+10) {
                    width: auto;
                    height: auto;
                    margin-right: 0;
                    grid-column-start: 1;
                    grid-column-end: span 8;
                    grid-row-start: 31;
                    grid-row-end: span 11;
                }

                &:nth-child(12n+11) {
                    width: auto;
                    height: auto;
                    margin-right: 0;
                    grid-column-start: 10;
                    grid-column-end: span 9;
                    grid-row-start: 31;
                    grid-row-end: span 11;
                }

                &:nth-child(12n) {
                    width: auto;
                    height: auto;
                    margin-right: 0;
                    grid-column-start: 20;
                    grid-column-end: span 11;
                    grid-row-start: 31;
                    grid-row-end: span 11;
                }

                // all the grid to repeat another 10 times
                @for $i from 0 through 9 {
                    &:nth-child(#{13+$i*$grid-items}){
                        grid-row-start: $grid-row-last*($i+1) + 1;
                    }
                    
                    &:nth-child(#{14+$i*$grid-items}) {
                        grid-row-start: $grid-row-last*($i+1) + 1;
                    }

                    &:nth-child(#{15+$i*$grid-items}) {
                        grid-row-start: $grid-row-last*($i+1) + 1;
                    }

                    &:nth-child(#{16+$i*$grid-items}) {
                        grid-row-start: $grid-row-last*($i+1) + 10;
                    }

                    &:nth-child(#{17+$i*$grid-items}) {
                        grid-row-start: $grid-row-last*($i+1) + 10;
                    }

                    &:nth-child(#{18+$i*$grid-items}) {
                        grid-row-start: $grid-row-last*($i+1) + 13;
                    }

                    &:nth-child(#{19+$i*$grid-items}) {
                        grid-row-start: $grid-row-last*($i+1) + 18;
                    }

                    &:nth-child(#{20+$i*$grid-items}) {
                        grid-row-start: $grid-row-last*($i+1) + 18;
                    }

                    &:nth-child(#{21+$i*$grid-items}) {
                        grid-row-start: $grid-row-last*($i+1) + 22;
                    }

                    &:nth-child(#{22+$i*$grid-items}) {
                        grid-row-start: $grid-row-last*($i+1) + 31;
                    }

                    &:nth-child(#{23+$i*$grid-items}) {
                        grid-row-start: $grid-row-last*($i+1) + 31;
                    }

                    &:nth-child(#{24+$i*$grid-items}) {
                        grid-row-start: $grid-row-last*($i+1) + 31;
                    }
                } 
            }
        }*/
    }

    @media(min-width: $bp-horiz-xlarge) {
        @include display(flex);

        &::after {
            content: 'mosaic-xlarge';
            display: none;
        }
        
        .mosaic-tile {
            width: calc(25% - 40px);
            height: 300px;

            margin-right: 40px;
            margin-bottom: 40px;

            &:nth-child(odd) {
                margin-right: 40px;
            }

            &:nth-child(even) {
                margin-left: 0;
            }

            &:nth-child(12n+1) {
                width: calc(20% - 40px);
                height: 320px;
                margin-right: 40px;
            }
            
            &:nth-child(12n+2) {
                width: calc(25% - 40px);
                height: 320px;
                margin-right: 40px;
            }

            &:nth-child(12n+3) {
                width: calc(30% - 40px);
                height: 320px;
                margin-right: 40px;
            }

            &:nth-child(12n+4) {
                width: calc(25%);
                height: 320px;
                margin-right: 0;
            }

            &:nth-child(12n+5) {
                width: calc(25% - 40px);
                height: 360px;
                margin-right: 40px;
            }

            &:nth-child(12n+6) {
                width: calc(35% - 40px);
                height: 360px;
                margin-right: 40px;
            }

            &:nth-child(12n+7) {
                width: calc(20% - 40px);
                height: 360px;
                margin-right: 40px;
            }

            &:nth-child(12n+8) {
                width: calc(20%);
                height: 360px;
                margin-right: 0;
            }

            &:nth-child(12n+9) {
                width: calc(20% - 40px);
                height: 300px;
                margin-right: 40px;
            }

            &:nth-child(12n+10) {
                width: calc(30% - 40px);
                height: 300px;
                margin-right: 40px;
            }

            &:nth-child(12n+11) {
                width: calc(30% - 40px);
                height: 300px;
                margin-right: 40px;
            }

            &:nth-child(12n) {
                width: calc(20%);
                height: 300px;
                margin-right: 0;
            }
        }

        
        
        
    }
}